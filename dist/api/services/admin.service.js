"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _authentication = _interopRequireDefault(require("./authentication.service"));
var _AdminModel = _interopRequireDefault(require("../../models/AdminModel"));
var _ExaminerModel = _interopRequireDefault(require("../../models/ExaminerModel"));
var _UniversityModel = _interopRequireDefault(require("../../models/UniversityModel"));
var _MetaDeta = _interopRequireDefault(require("../../models/MetaDeta"));
var _AssignModel = _interopRequireDefault(require("../../models/AssignModel"));
var _express = _interopRequireDefault(require("express"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
class AdminService {
  async signIn(email, password) {
    const user = await _AdminModel.default.findOne({
      email
    });
    if (!user) {
      return {
        status: 400,
        message: "Admin not found"
      };
    }
    const isPasswordMatch = password === user.password;
    if (!isPasswordMatch) {
      return {
        status: 400,
        message: "Incorrect password"
      };
    }
    console.log(user);
    if (user.email === "coe@ppsu.ac.in" || user.email === "developer@ppsu.db") {
      return {
        status: 200,
        message: "Login successful",
        token: _authentication.default.generateToken(user.id, user.role, true)
      };
    } else {
      return {
        status: 200,
        message: "Login successful",
        token: _authentication.default.generateToken(user.id, user.role, false)
      };
    }
  }
  async updateMetaData() {
    const metaData = await _MetaDeta.default.findOne({
      unique: "metaData"
    });
    if (!metaData) {
      return _MetaDeta.default.create({
        unique: "metaData",
        lastUpdated: new Date()
      });
    } else {
      // update
      return _MetaDeta.default.findByIdAndUpdate(metaData._id, {
        lastUpdated: new Date()
      });
    }
  }
  async addExaminer(user) {
    console.log(user);
    if ((user === null || user === void 0 ? void 0 : user.e_id) === "SOE") {
      // let count = await Examiner.countDocuments({ e_id: "SOE" });
      // get the last examiner
      let lastExaminer = await _ExaminerModel.default.findOne({
        e_id: "SOE"
      }).sort({
        _id: -1
      });
      let count = 1;
      if (lastExaminer) {
        count = parseInt(lastExaminer.eid.split("SOE")[1]) + 1;
      }
      count++;
      if (count < 10) {
        user["eid"] = `SOE000${count}`;
      } else if (count < 100) {
        user["eid"] = `SOE00${count}`;
      } else if (count < 1000) {
        user["eid"] = `SOE0${count}`;
      }
    } else if (user.e_id === "SOP") {
      let count = await _ExaminerModel.default.countDocuments({
        e_id: "SOP"
      });
      count++;
      if (count < 10) {
        user["eid"] = `SOP000${count}`;
      } else if (count < 100) {
        user["eid"] = `SOP00${count}`;
      } else if (count < 1000) {
        user["eid"] = `SOP0${count}`;
      }
    } else if (user.e_id === "SON") {
      let count = await _ExaminerModel.default.countDocuments({
        e_id: "SON"
      });
      count++;
      if (count < 10) {
        user["eid"] = `SON000${count}`;
      } else if (count < 100) {
        user["eid"] = `SON00${count}`;
      } else if (count < 1000) {
        user["eid"] = `SON0${count}`;
      }
    } else if (user.e_id === "SLM") {
      let count = await _ExaminerModel.default.countDocuments({
        e_id: "SLM"
      });
      count++;
      if (count < 10) {
        user["eid"] = `SLM000${count}`;
      } else if (count < 100) {
        user["eid"] = `SLM00${count}`;
      } else if (count < 1000) {
        user["eid"] = `SLM0${count}`;
      }
    } else {
      let count = await _ExaminerModel.default.countDocuments({
        e_id: "SOE"
      });
      count++;
      if (count < 10) {
        user["eid"] = `SOE000${count}`;
      } else if (count < 100) {
        user["eid"] = `SOE00${count}`;
      } else if (count < 1000) {
        user["eid"] = `SOE0${count}`;
      }
    }
    return _ExaminerModel.default.create(user);
  }
  async deleteExaminer(id) {
    return _ExaminerModel.default.findByIdAndDelete(id);
  }
  async getExaminers(limit) {
    return _ExaminerModel.default.find().limit(limit);
  }
  async getExaminersUsingId(id) {
    return _ExaminerModel.default.findById(id);
  }
  async getExaminersUsingName(name) {
    // index search

    return _ExaminerModel.default.find({
      name
    });
  }
  async getExaminersUsingEmail(email) {
    return _ExaminerModel.default.find({
      email
    });
  }
  async getExaminersUsingMobile(mobile) {
    return _ExaminerModel.default.find({
      mobile
    });
  }
  async getAllExaminers() {
    return _ExaminerModel.default.find();
  }

  // Super Admin
  async addAdmin(user) {
    const email = user.email;
    const user_Exist = await _AdminModel.default.findOne({
      email
    });
    if (user_Exist) {
      return {
        status: 400,
        message: "Admin already exists"
      };
    }
    const admin = await _AdminModel.default.create({
      email: user.email,
      password: user.password,
      role: user.role,
      passwordLength: user.password.length
    });
    return {
      status: 200,
      message: "Admin added successfully"
    };
  }
  async updateAdmin(user) {
    const email = user.email;
    console.log(user);
    const admin = await _AdminModel.default.findOne({
      email
    });
    if (!admin) {
      return {
        status: 400,
        message: "Admin not found"
      };
    }
    const updatedAdmin = await _AdminModel.default.findByIdAndUpdate(admin._id, {
      password: user.password,
      passwordLength: user.password.length,
      role: user.role
    });
    return updatedAdmin;
  }
  async getAdmins() {
    const admins = await _AdminModel.default.find();
    admins.forEach((admin, index) => {
      if (admin.email === "developer@ppsu.db") {
        admins.splice(index, 1);
      }
    });
    return admins;
  }
  async getPassword(email) {
    const admin = await _AdminModel.default.findOne({
      email
    });
    if (!admin) {
      return {
        status: 400,
        message: "Admin not found"
      };
    }
    return admin.password;
  }
  async updateExaminer(user) {
    console.log(user);
    return _ExaminerModel.default.findByIdAndUpdate(user.id, user);
  }
  async addMultipleUsers(users) {
    const response = [];
    users.forEach(async user => {
      const resposne = await this.addExaminer(user);
      response.push(resposne);
    });
    return response;
  }
  async addUniversity(university) {
    return _UniversityModel.default.create(university);
  }
  async getUniversities() {
    return _UniversityModel.default.find();
  }
  async updateUniversity(university) {
    return _UniversityModel.default.findByIdAndUpdate(university._id, university);
  }
  async getDistance(name) {
    return _UniversityModel.default.findOne({
      name
    });
  }
  async getMetaData() {
    return _MetaDeta.default.findOne({
      unique: "metaData"
    });
  }
  async assign(data) {
    return _AssignModel.default.create(data);
  }
  async getAssignments() {
    return _AssignModel.default.find();
  }
}
var _default = exports.default = new AdminService();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aGVudGljYXRpb24iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BZG1pbk1vZGVsIiwiX0V4YW1pbmVyTW9kZWwiLCJfVW5pdmVyc2l0eU1vZGVsIiwiX01ldGFEZXRhIiwiX0Fzc2lnbk1vZGVsIiwiX2V4cHJlc3MiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkFkbWluU2VydmljZSIsInNpZ25JbiIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VyIiwiQWRtaW4iLCJmaW5kT25lIiwic3RhdHVzIiwibWVzc2FnZSIsImlzUGFzc3dvcmRNYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJ0b2tlbiIsIkF1dGhlbnRpY2F0aW9uU2VydmljZSIsImdlbmVyYXRlVG9rZW4iLCJpZCIsInJvbGUiLCJ1cGRhdGVNZXRhRGF0YSIsIm1ldGFEYXRhIiwiTWV0YURldGEiLCJ1bmlxdWUiLCJjcmVhdGUiLCJsYXN0VXBkYXRlZCIsIkRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImFkZEV4YW1pbmVyIiwiZV9pZCIsImxhc3RFeGFtaW5lciIsIkV4YW1pbmVyIiwic29ydCIsImNvdW50IiwicGFyc2VJbnQiLCJlaWQiLCJzcGxpdCIsImNvdW50RG9jdW1lbnRzIiwiZGVsZXRlRXhhbWluZXIiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImdldEV4YW1pbmVycyIsImxpbWl0IiwiZmluZCIsImdldEV4YW1pbmVyc1VzaW5nSWQiLCJmaW5kQnlJZCIsImdldEV4YW1pbmVyc1VzaW5nTmFtZSIsIm5hbWUiLCJnZXRFeGFtaW5lcnNVc2luZ0VtYWlsIiwiZ2V0RXhhbWluZXJzVXNpbmdNb2JpbGUiLCJtb2JpbGUiLCJnZXRBbGxFeGFtaW5lcnMiLCJhZGRBZG1pbiIsInVzZXJfRXhpc3QiLCJhZG1pbiIsInBhc3N3b3JkTGVuZ3RoIiwibGVuZ3RoIiwidXBkYXRlQWRtaW4iLCJ1cGRhdGVkQWRtaW4iLCJnZXRBZG1pbnMiLCJhZG1pbnMiLCJmb3JFYWNoIiwiaW5kZXgiLCJzcGxpY2UiLCJnZXRQYXNzd29yZCIsInVwZGF0ZUV4YW1pbmVyIiwiYWRkTXVsdGlwbGVVc2VycyIsInVzZXJzIiwicmVzcG9uc2UiLCJyZXNwb3NuZSIsInB1c2giLCJhZGRVbml2ZXJzaXR5IiwidW5pdmVyc2l0eSIsIlVuaXZlcnNpdHlNb2RlbCIsImdldFVuaXZlcnNpdGllcyIsInVwZGF0ZVVuaXZlcnNpdHkiLCJnZXREaXN0YW5jZSIsImdldE1ldGFEYXRhIiwiYXNzaWduIiwiZGF0YSIsIkFzc2lnbm1lbnQiLCJnZXRBc3NpZ25tZW50cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlcnZlci9hcGkvc2VydmljZXMvYWRtaW4uc2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXV0aGVudGljYXRpb25TZXJ2aWNlIGZyb20gXCIuL2F1dGhlbnRpY2F0aW9uLnNlcnZpY2VcIjtcbmltcG9ydCBBZG1pbiBmcm9tIFwiLi4vLi4vbW9kZWxzL0FkbWluTW9kZWxcIjtcbmltcG9ydCBFeGFtaW5lciBmcm9tIFwiLi4vLi4vbW9kZWxzL0V4YW1pbmVyTW9kZWxcIjtcbmltcG9ydCBVbml2ZXJzaXR5TW9kZWwgZnJvbSBcIi4uLy4uL21vZGVscy9Vbml2ZXJzaXR5TW9kZWxcIjtcbmltcG9ydCBNZXRhRGV0YSBmcm9tIFwiLi4vLi4vbW9kZWxzL01ldGFEZXRhXCI7XG5pbXBvcnQgQXNzaWdubWVudCBmcm9tIFwiLi4vLi4vbW9kZWxzL0Fzc2lnbk1vZGVsXCI7XG5pbXBvcnQgZSBmcm9tIFwiZXhwcmVzc1wiO1xuY2xhc3MgQWRtaW5TZXJ2aWNlIHtcbiAgYXN5bmMgc2lnbkluKGVtYWlsLCBwYXNzd29yZCkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBBZG1pbi5maW5kT25lKHsgZW1haWwgfSk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJBZG1pbiBub3QgZm91bmRcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGlzUGFzc3dvcmRNYXRjaCA9IHBhc3N3b3JkID09PSB1c2VyLnBhc3N3b3JkO1xuXG4gICAgaWYgKCFpc1Bhc3N3b3JkTWF0Y2gpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBtZXNzYWdlOiBcIkluY29ycmVjdCBwYXNzd29yZFwiLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc29sZS5sb2codXNlcik7XG4gICAgaWYgKHVzZXIuZW1haWwgPT09IFwiY29lQHBwc3UuYWMuaW5cIiB8fCB1c2VyLmVtYWlsID09PSBcImRldmVsb3BlckBwcHN1LmRiXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBtZXNzYWdlOiBcIkxvZ2luIHN1Y2Nlc3NmdWxcIixcbiAgICAgICAgdG9rZW46IEF1dGhlbnRpY2F0aW9uU2VydmljZS5nZW5lcmF0ZVRva2VuKHVzZXIuaWQsIHVzZXIucm9sZSwgdHJ1ZSksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgbWVzc2FnZTogXCJMb2dpbiBzdWNjZXNzZnVsXCIsXG4gICAgICAgIHRva2VuOiBBdXRoZW50aWNhdGlvblNlcnZpY2UuZ2VuZXJhdGVUb2tlbih1c2VyLmlkLCB1c2VyLnJvbGUsIGZhbHNlKSxcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGFzeW5jIHVwZGF0ZU1ldGFEYXRhKCkge1xuICAgIGNvbnN0IG1ldGFEYXRhID0gYXdhaXQgTWV0YURldGEuZmluZE9uZSh7IHVuaXF1ZTogXCJtZXRhRGF0YVwiIH0pO1xuICAgIGlmICghbWV0YURhdGEpIHtcbiAgICAgIHJldHVybiBNZXRhRGV0YS5jcmVhdGUoe1xuICAgICAgICB1bmlxdWU6IFwibWV0YURhdGFcIixcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXBkYXRlXG4gICAgICByZXR1cm4gTWV0YURldGEuZmluZEJ5SWRBbmRVcGRhdGUobWV0YURhdGEuX2lkLCB7XG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGFkZEV4YW1pbmVyKHVzZXIpIHtcbiAgICBjb25zb2xlLmxvZyh1c2VyKTtcbiAgICBpZiAodXNlcj8uZV9pZCA9PT0gXCJTT0VcIikge1xuICAgICAgLy8gbGV0IGNvdW50ID0gYXdhaXQgRXhhbWluZXIuY291bnREb2N1bWVudHMoeyBlX2lkOiBcIlNPRVwiIH0pO1xuICAgICAgLy8gZ2V0IHRoZSBsYXN0IGV4YW1pbmVyXG4gICAgICBsZXQgbGFzdEV4YW1pbmVyID0gYXdhaXQgRXhhbWluZXIuZmluZE9uZSh7IGVfaWQ6IFwiU09FXCIgfSkuc29ydCh7XG4gICAgICAgIF9pZDogLTEsXG4gICAgICB9KTtcbiAgICAgIGxldCBjb3VudCA9IDE7XG4gICAgICBpZiAobGFzdEV4YW1pbmVyKSB7XG4gICAgICAgIGNvdW50ID0gcGFyc2VJbnQobGFzdEV4YW1pbmVyLmVpZC5zcGxpdChcIlNPRVwiKVsxXSkgKyAxO1xuICAgICAgfVxuICAgICAgY291bnQrKztcbiAgICAgIGlmIChjb3VudCA8IDEwKSB7XG4gICAgICAgIHVzZXJbXCJlaWRcIl0gPSBgU09FMDAwJHtjb3VudH1gO1xuICAgICAgfSBlbHNlIGlmIChjb3VudCA8IDEwMCkge1xuICAgICAgICB1c2VyW1wiZWlkXCJdID0gYFNPRTAwJHtjb3VudH1gO1xuICAgICAgfSBlbHNlIGlmIChjb3VudCA8IDEwMDApIHtcbiAgICAgICAgdXNlcltcImVpZFwiXSA9IGBTT0UwJHtjb3VudH1gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodXNlci5lX2lkID09PSBcIlNPUFwiKSB7XG4gICAgICBsZXQgY291bnQgPSBhd2FpdCBFeGFtaW5lci5jb3VudERvY3VtZW50cyh7IGVfaWQ6IFwiU09QXCIgfSk7XG4gICAgICBjb3VudCsrO1xuXG4gICAgICBpZiAoY291bnQgPCAxMCkge1xuICAgICAgICB1c2VyW1wiZWlkXCJdID0gYFNPUDAwMCR7Y291bnR9YDtcbiAgICAgIH0gZWxzZSBpZiAoY291bnQgPCAxMDApIHtcbiAgICAgICAgdXNlcltcImVpZFwiXSA9IGBTT1AwMCR7Y291bnR9YDtcbiAgICAgIH0gZWxzZSBpZiAoY291bnQgPCAxMDAwKSB7XG4gICAgICAgIHVzZXJbXCJlaWRcIl0gPSBgU09QMCR7Y291bnR9YDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHVzZXIuZV9pZCA9PT0gXCJTT05cIikge1xuICAgICAgbGV0IGNvdW50ID0gYXdhaXQgRXhhbWluZXIuY291bnREb2N1bWVudHMoeyBlX2lkOiBcIlNPTlwiIH0pO1xuICAgICAgY291bnQrKztcblxuICAgICAgaWYgKGNvdW50IDwgMTApIHtcbiAgICAgICAgdXNlcltcImVpZFwiXSA9IGBTT04wMDAke2NvdW50fWA7XG4gICAgICB9IGVsc2UgaWYgKGNvdW50IDwgMTAwKSB7XG4gICAgICAgIHVzZXJbXCJlaWRcIl0gPSBgU09OMDAke2NvdW50fWA7XG4gICAgICB9IGVsc2UgaWYgKGNvdW50IDwgMTAwMCkge1xuICAgICAgICB1c2VyW1wiZWlkXCJdID0gYFNPTjAke2NvdW50fWA7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh1c2VyLmVfaWQgPT09IFwiU0xNXCIpIHtcbiAgICAgIGxldCBjb3VudCA9IGF3YWl0IEV4YW1pbmVyLmNvdW50RG9jdW1lbnRzKHsgZV9pZDogXCJTTE1cIiB9KTtcbiAgICAgIGNvdW50Kys7XG5cbiAgICAgIGlmIChjb3VudCA8IDEwKSB7XG4gICAgICAgIHVzZXJbXCJlaWRcIl0gPSBgU0xNMDAwJHtjb3VudH1gO1xuICAgICAgfSBlbHNlIGlmIChjb3VudCA8IDEwMCkge1xuICAgICAgICB1c2VyW1wiZWlkXCJdID0gYFNMTTAwJHtjb3VudH1gO1xuICAgICAgfSBlbHNlIGlmIChjb3VudCA8IDEwMDApIHtcbiAgICAgICAgdXNlcltcImVpZFwiXSA9IGBTTE0wJHtjb3VudH1gO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY291bnQgPSBhd2FpdCBFeGFtaW5lci5jb3VudERvY3VtZW50cyh7IGVfaWQ6IFwiU09FXCIgfSk7XG4gICAgICBjb3VudCsrO1xuICAgICAgaWYgKGNvdW50IDwgMTApIHtcbiAgICAgICAgdXNlcltcImVpZFwiXSA9IGBTT0UwMDAke2NvdW50fWA7XG4gICAgICB9IGVsc2UgaWYgKGNvdW50IDwgMTAwKSB7XG4gICAgICAgIHVzZXJbXCJlaWRcIl0gPSBgU09FMDAke2NvdW50fWA7XG4gICAgICB9IGVsc2UgaWYgKGNvdW50IDwgMTAwMCkge1xuICAgICAgICB1c2VyW1wiZWlkXCJdID0gYFNPRTAke2NvdW50fWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEV4YW1pbmVyLmNyZWF0ZSh1c2VyKTtcbiAgfVxuICBhc3luYyBkZWxldGVFeGFtaW5lcihpZCkge1xuICAgIHJldHVybiBFeGFtaW5lci5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG4gIH1cbiAgYXN5bmMgZ2V0RXhhbWluZXJzKGxpbWl0KSB7XG4gICAgcmV0dXJuIEV4YW1pbmVyLmZpbmQoKS5saW1pdChsaW1pdCk7XG4gIH1cbiAgYXN5bmMgZ2V0RXhhbWluZXJzVXNpbmdJZChpZCkge1xuICAgIHJldHVybiBFeGFtaW5lci5maW5kQnlJZChpZCk7XG4gIH1cbiAgYXN5bmMgZ2V0RXhhbWluZXJzVXNpbmdOYW1lKG5hbWUpIHtcbiAgICAvLyBpbmRleCBzZWFyY2hcblxuICAgIHJldHVybiBFeGFtaW5lci5maW5kKHsgbmFtZSB9KTtcbiAgfVxuICBhc3luYyBnZXRFeGFtaW5lcnNVc2luZ0VtYWlsKGVtYWlsKSB7XG4gICAgcmV0dXJuIEV4YW1pbmVyLmZpbmQoeyBlbWFpbCB9KTtcbiAgfVxuICBhc3luYyBnZXRFeGFtaW5lcnNVc2luZ01vYmlsZShtb2JpbGUpIHtcbiAgICByZXR1cm4gRXhhbWluZXIuZmluZCh7IG1vYmlsZSB9KTtcbiAgfVxuICBhc3luYyBnZXRBbGxFeGFtaW5lcnMoKSB7XG4gICAgcmV0dXJuIEV4YW1pbmVyLmZpbmQoKTtcbiAgfVxuXG4gIC8vIFN1cGVyIEFkbWluXG4gIGFzeW5jIGFkZEFkbWluKHVzZXIpIHtcbiAgICBjb25zdCBlbWFpbCA9IHVzZXIuZW1haWw7XG4gICAgY29uc3QgdXNlcl9FeGlzdCA9IGF3YWl0IEFkbWluLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICBpZiAodXNlcl9FeGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQWRtaW4gYWxyZWFkeSBleGlzdHNcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGFkbWluID0gYXdhaXQgQWRtaW4uY3JlYXRlKHtcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQsXG4gICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICBwYXNzd29yZExlbmd0aDogdXNlci5wYXNzd29yZC5sZW5ndGgsXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcIkFkbWluIGFkZGVkIHN1Y2Nlc3NmdWxseVwiLFxuICAgIH07XG4gIH1cbiAgYXN5bmMgdXBkYXRlQWRtaW4odXNlcikge1xuICAgIGNvbnN0IGVtYWlsID0gdXNlci5lbWFpbDtcbiAgICBjb25zb2xlLmxvZyh1c2VyKTtcbiAgICBjb25zdCBhZG1pbiA9IGF3YWl0IEFkbWluLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICBpZiAoIWFkbWluKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJBZG1pbiBub3QgZm91bmRcIixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlZEFkbWluID0gYXdhaXQgQWRtaW4uZmluZEJ5SWRBbmRVcGRhdGUoYWRtaW4uX2lkLCB7XG4gICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCxcbiAgICAgIHBhc3N3b3JkTGVuZ3RoOiB1c2VyLnBhc3N3b3JkLmxlbmd0aCxcbiAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICB9KTtcbiAgICByZXR1cm4gdXBkYXRlZEFkbWluO1xuICB9XG4gIGFzeW5jIGdldEFkbWlucygpIHtcbiAgICBjb25zdCBhZG1pbnMgPSBhd2FpdCBBZG1pbi5maW5kKCk7XG5cbiAgICBhZG1pbnMuZm9yRWFjaCgoYWRtaW4sIGluZGV4KSA9PiB7XG4gICAgICBpZiAoYWRtaW4uZW1haWwgPT09IFwiZGV2ZWxvcGVyQHBwc3UuZGJcIikge1xuICAgICAgICBhZG1pbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYWRtaW5zO1xuICB9XG4gIGFzeW5jIGdldFBhc3N3b3JkKGVtYWlsKSB7XG4gICAgY29uc3QgYWRtaW4gPSBhd2FpdCBBZG1pbi5maW5kT25lKHsgZW1haWwgfSk7XG4gICAgaWYgKCFhZG1pbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQWRtaW4gbm90IGZvdW5kXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYWRtaW4ucGFzc3dvcmQ7XG4gIH1cblxuICBhc3luYyB1cGRhdGVFeGFtaW5lcih1c2VyKSB7XG4gICAgY29uc29sZS5sb2codXNlcik7XG4gICAgcmV0dXJuIEV4YW1pbmVyLmZpbmRCeUlkQW5kVXBkYXRlKHVzZXIuaWQsIHVzZXIpO1xuICB9XG4gIGFzeW5jIGFkZE11bHRpcGxlVXNlcnModXNlcnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IFtdO1xuICAgIHVzZXJzLmZvckVhY2goYXN5bmMgKHVzZXIpID0+IHtcbiAgICAgIGNvbnN0IHJlc3Bvc25lID0gYXdhaXQgdGhpcy5hZGRFeGFtaW5lcih1c2VyKTtcbiAgICAgIHJlc3BvbnNlLnB1c2gocmVzcG9zbmUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuICBhc3luYyBhZGRVbml2ZXJzaXR5KHVuaXZlcnNpdHkpIHtcbiAgICByZXR1cm4gVW5pdmVyc2l0eU1vZGVsLmNyZWF0ZSh1bml2ZXJzaXR5KTtcbiAgfVxuICBhc3luYyBnZXRVbml2ZXJzaXRpZXMoKSB7XG4gICAgcmV0dXJuIFVuaXZlcnNpdHlNb2RlbC5maW5kKCk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlVW5pdmVyc2l0eSh1bml2ZXJzaXR5KSB7XG4gICAgcmV0dXJuIFVuaXZlcnNpdHlNb2RlbC5maW5kQnlJZEFuZFVwZGF0ZSh1bml2ZXJzaXR5Ll9pZCwgdW5pdmVyc2l0eSk7XG4gIH1cbiAgYXN5bmMgZ2V0RGlzdGFuY2UobmFtZSkge1xuICAgIHJldHVybiBVbml2ZXJzaXR5TW9kZWwuZmluZE9uZSh7IG5hbWUgfSk7XG4gIH1cbiAgYXN5bmMgZ2V0TWV0YURhdGEoKSB7XG4gICAgcmV0dXJuIE1ldGFEZXRhLmZpbmRPbmUoeyB1bmlxdWU6IFwibWV0YURhdGFcIiB9KTtcbiAgfVxuICBhc3luYyBhc3NpZ24oZGF0YSkge1xuICAgIHJldHVybiBBc3NpZ25tZW50LmNyZWF0ZShkYXRhKTtcbiAgfVxuICBhc3luYyBnZXRBc3NpZ25tZW50cygpIHtcbiAgICByZXR1cm4gQXNzaWdubWVudC5maW5kKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEFkbWluU2VydmljZSgpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxlQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxjQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFD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